<form [formGroup]="occasionForm" (ngSubmit)="save(occasionForm.value)">
  <mat-card>
    <mat-card-content>
      <mat-tab-group>
        <mat-tab i18n-label="@@occasion-information" label="Information">
          <div class="row col-sm-12">
            <div class="col-sm-12 col-md-6 col-lg-3">
              <mat-form-field>
                <input matInput i18n-placeholder="@@occasion-name" placeholder="Name" formControlName="name" required>
                <mat-error *ngIf="occasionForm.controls['name'].hasError('required')">
                  <ng-container i18n="@@errorMessage-required">Required information</ng-container>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2">
              <mat-form-field>
                <input matInput i18n-placeholder="@@occasion-start" placeholder="Start"
                  [matDatepicker]="startDatepicker" formControlName="start" required>
                <mat-datepicker-toggle matSuffix [for]="startDatepicker"></mat-datepicker-toggle>
                <mat-datepicker #startDatepicker></mat-datepicker>
                <mat-error *ngIf="occasionForm.controls['start'].hasError('required')">
                  <ng-container i18n="@@errorMessage-required">Required information</ng-container>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2">
              <mat-form-field>
                <input matInput i18n-placeholder="@@occasion-finish" placeholder="Finish"
                  [matDatepicker]="finishDatepicker" formControlName="finish" required>
                <mat-datepicker-toggle matSuffix [for]="finishDatepicker"></mat-datepicker-toggle>
                <mat-datepicker #finishDatepicker></mat-datepicker>
                <mat-error *ngIf="occasionForm.controls['finish'].hasError('required')">
                  <ng-container i18n="@@errorMessage-required">Required information</ng-container>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3">
              <mat-form-field>
                <input matInput i18n-placeholder="@@occasion-imageSource" placeholder="Image link"
                  formControlName="imageSource" required>
                <mat-error *ngIf="occasionForm.controls['imageSource'].hasError('required')">
                  <ng-container i18n="@@errorMessage-required">Required information</ng-container>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2">
              <mat-form-field>
                <input matInput type="number" i18n-placeholder="@@occasion-numberOfSpots" placeholder="Number of spots"
                  formControlName="numberOfSpots" required>
                <mat-error *ngIf="occasionForm.controls['numberOfSpots'].hasError('required')">
                  <ng-container i18n="@@errorMessage-required">Required information</ng-container>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-12">
              <mat-form-field>
                <textarea matInput rows="5" i18n-placeholder="@@occasion-description" placeholder="Description"
                  formControlName="description"></textarea>
              </mat-form-field>
            </div>
          </div>
          <div class="row col-12">
            <button mat-button type="submit" [disabled]="occasionForm.pristine || !occasionForm.valid">
              <mat-icon>save</mat-icon>
            </button>
            <button mat-button type="reset" (click)="cancel()">
              <mat-icon>cancel</mat-icon>
            </button>
            <button *ngIf="occasionForm.value.id !== null" mat-button type="button"
              (click)="delete(occasionForm.value)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </mat-tab>
        <mat-tab i18n-label="@@occasion-blueprint" label="Blueprint">
          <div class="row col-sm-12">
            <div class="col-sm-12 col-md-6 col-lg-6">
              <app-drawing-container class="m-s" [container]="drawingContainer">
              </app-drawing-container>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <app-blueprint-element-detail [blueprintElement]="selectedBlueprintElement">
              </app-blueprint-element-detail>
              <mat-icon class="clickable" (click)="addElement()">add</mat-icon>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </mat-card-content>
  </mat-card>
</form>